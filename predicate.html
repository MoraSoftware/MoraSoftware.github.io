<!DOCTYPE html>
<html lang="en">
   <head>
      <title>Class Kotlin</title>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" type="text/css">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Merriweather+Sans:400,300,700" type="text/css">
      <link rel="stylesheet" href="static/app.css" type="text/css">
      <link rel="shortcut icon" href="static/logo.png" />
      <meta name="theme-color" content="#111111">
      <meta name="og:type" content="website">
      <meta name="og:title" content="MoraSoftware.github.io">
      <meta name="og:description" content="Mora Software">
      <meta name="og:site_name" content="Mora Software">
      <meta name="og:url" content="{{ site.url }}">
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
   </head>
   <body>
      <div class="container">
         <div class="block">
            <form action="index.html">
               <input type="image" src="static/white.jpg" />
            </form>
         </div>
         <div class="block">
            <h2>Collection Kotlin</h2>
         </div>
         <ul class="nav nav-tabs">
            <li class="active"><a data-toggle="tab" href="#init">Filter Map</a></li>
            <li><a data-toggle="tab" href="#null_safety">Null safety</a></li>
            <li><a data-toggle="tab" href="#lateinit">Lateinit</a></li>
            <li><a data-toggle="tab" href="#lazy">Lazy</a></li>
         </ul>
         <div class="tab-content">
            <div id="init" class="tab-pane fade in active">
               <h3>Filter Map</h3>
               <xmp>
              fun main(args: Array<String>) {

                val myNumbers: List<Int> = listOf(2, 3, 4, 6, 23, 90)

                val mySmallNums = myNumbers.filter { it < 10 }    // OR { num -> num < 10 }
                for (num in mySmallNums) {
                  println(num)
                }

                val mySquaredNums = myNumbers.map { it * it }     // OR { num -> num * num }
                for (num in mySquaredNums) {
                  println(num)
                }

                var people = listOf<Pperson>(Pperson(10, "Steve"), Pperson(23, "Annie"), Pperson(17, "Sam"))
                var names = people.filter { person ->person.name.startsWith("S") }.map { it.name }

                for (name in names) {
                  println(name)
                }
              }

              class Person(var age: Int, var name: String) {
                // Some other code..
              }  
               </xmp>
               <hr>
               <p>Filter</p>
               <p>You can filter the data, like a string startWith("S")</p>
               <p></p>
               <p>Map</p>
               <p>You can do actions like + * / %</p>
            </div>
            <div id="null_safety" class="tab-pane fade">
               <h3>Null safety</h3>
               <xmp>
                // WAP to find out length of name
                val name: String? = "Steve"     // change it to null and see the effect in output

                // 1. Safe Call ( ?. )
                // Returns the length if 'name' is not null else returns NULL
                // Use it if you don't mind getting NULL value
                println("The length of name is ${name?.length}")


                // 2. Safe Call with let ( ?.let )
                // It executes the block ONLY IF name is NOT NULL
                name?.let {
                 println("The length of name is ${name.length}")
                }


                // 3. Elvis-operator ( ?: )
                // When we have nullable reference 'name', we can say "is name is not null", use it,
                // otherwise use some non-null value"
                val len = if (name != null)
                 name.length
                else
                 -1

                val length = name?.length ?: -1
                println("The length of name is ${length}")

                // 4. Non-null assertion operator ( !! )
                // Use it when you are sure the value is NOT NULL
                // Throws NullPointerException if the value is found to be NULL

                println("The length of name is ${name!!.length}")
               </xmp>
               <hr>
               
               <a href="https://www.youtube.com/watch?v=I9YijlV1nok&list=PLlxmoA0rQ-LwgK1JsnMsakYNACYGa1cjR&index=58"><img src="static/youtube.png"></a>
               <p></p>
            </div>
            <div id="lateinit" class="tab-pane fade">
               <h3>lateinit</h3>
               <xmp>
                fun main(args: Array<String>) {

                  val country = Country()

                  //    country.name = "India"
                  //    println(country.name)

                  country.setup()
                }

                class Country {

                  lateinit var name: String

                  fun setup() {
                    name = "USA"
                    println("The name of country is $name")
                  }
                }
               </xmp>
               <hr>
               <p>// lateinit used only with mutable data type [ var ]</p>
               <p> lateinit used only with non-nullable data type</p>
               <p> lateinit values must be initialised before you use it</p>
               <p></p>
               <p> If you try to access lateinit variable without initializing it then it throws UninitializedPropertyAccessException</p>
            </div>
            <div id="lateinit" class="tab-pane fade">
               <h3>lateinit</h3>
               <xmp>
                val pi: Float by lazy {
                  3.14f
                }

                fun main(args: Array<String>) {

                  println("Some initial code.....")

                  // pi is not initialised yet

                  val area1 = pi * 4 * 4      // pi gets initialised and assigned the value of 3.14f for the first time

                  val area2 = pi * 9 * 9      // The value pi is loaded from cache memory

                  println("Some more code....")
                }
               </xmp>
               <hr>
               <p>‘lazy initialization’ was designed to prevent unnecessary initialization of objects.</p>
               <p> You variables will not be initialised unless you use it in your code</p>
               <p> It is initialized only once. Next time when you use it, you get the value from cache memory.</p>
               <p></p>
               <p> It is thread safe</p>
               <p>It is initialized in the thread where it is used for the first time.
               <p>Other threads use the same value stored in the cache
               <p></p>
               <p>The variable can be var or val.</p>
               <p>The variable can be nullable or non-nullable</p>
            </div>
          </div>
      </div>
   </body>
</html>